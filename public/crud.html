<!DOCTYPE html>
<html>
  <head>
    <title>Rails Knockout Crud Example</title>
    <link href="/stylesheets/scaffold.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/bootstrap.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/custom.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/jquery.js" type="text/javascript"></script>
    <script src="/javascripts/jquery1.tmpl.js" type="text/javascript"></script>
    <script src="/javascripts/knockout-3.0.0.js" type="text/javascript"></script>
    <script src="/javascripts/crud.js" type="text/javascript"></script>


  </head>
  <body style="background:#fff;">
      <div class="header">
        <h1 > Crazy Coffee Beans</h1>
      </div>
 
    <div class="mainContainer well">
      <!-- /// 1 -->
      <script id="errorsTemplate" type="text/html">
              
               <span style="color:#ee5f5b;" data-bind="text: $data"></span>.&nbsp;
            
      </script>
      
      <script id="commentsTemplate" type="text/html">
        <div class="comment">
          <img src="images/commentIcon.jpg" style="float:left; width:20px; height:20px;" />
          <p data-bind="text: content"/></p>
          
        </div>
    
    </script>
      <!-- /// 2 -->
      <script id="indexTemplate" type="text/html">
        
        <div class="beanHolder" >
          <div class=="row beanname">
     
            <div class="span3 beanName">
              <img src="images/bean.jpg" class="imgSmall"/>&nbsp;
              <span style='font-size:18px;' data-bind="text: name"> 
            </div>

            <div class="span2 likes"  >

              <span data-bind="text: likes"></span>&nbsp;<img src="images/try.jpg" class="imgSmall" style="margin-top:-4px" name="Have You Tried It?"/>&nbsp;
            </div>

            <div class="span3 location">
              </span><img class="imgSmall" src="images/map.jpg" /> <span data-bind="text: place"></span>
               
            </div>
            <div class="span2 actions" style="float:right;">

                <img src="images/delete.jpg" class="imgSmall" style=" float:right; margin-right:20px;" data-bind="click: function() { viewModel.destroyBean($data) }" />
              <span style="float:right; margin-right:20px;" data-bind
              ="click: function() { viewModel.editBean($data) }"><img src="images/editIcon.jpg" class="imgSmall" name="Edit Bean"/ ></span>
               <span style="float:right; margin-right:20px;" data-bind
              ="click: function() { viewModel.showBean($data) }" name="Show Details" ><img src="images/show.jpg" class="imgSmall"/></span>
            </div>
          </div>  
        
        
      </script>

      <!-- /// 5 -->
      <script id="showTemplate" type="text/html">
        <div class="beanShow"  >
          <img src="images/back.jpg" class="imgSmall" data-bind="click: function() { viewModel.indexBean() }" name="Go Back"/>

          <div style="margin-bottom:10px;" class="row" >
            <div class="imgHolder" >
              <img class="imgMedium" src="images/coffeebg.jpg" />
            </div>
            <div class="beanDesc" >
                <div data-bind="click: function() { viewModel.editBean($data) }" name="Click to Edit">
                  <h2><span data-bind="text: name"></span></h2>
                  <p><span data-bind="text: description"></span></p>
                  <div class="">
                    <div class="row">
                        <div class="row span4">
                          <h5><img class="imgSmall" src="images/map.jpg" />
                          <span data-bind="text: place"></span></h5>
                        </div>
                        
                    </div>
                    
                  </div>
                </div>
            <div class="span4" style="margin-top:10px;">
                          <b style="margin-left:20px;"><span class="tries" data-bind="text: likes"></span> </b><span><img class="imgSmall" style="margin-left:0px;" src="images/try.jpg"/> </span>
                             <button style="margin-right:20px;margin-top:0px;" class="btn btn-warning" data-bind="click: function() { viewModel.tryBean($data) }">Love It</button>
                    </div>
              
            </div>
          
          </div>
       

      </script>

      <!-- /// 7 -->
      <script id="editTemplate" type="text/html">
        <div class="editBean">
          <img src="images/back.jpg" class="imgSmall" data-bind="click: function() { viewModel.indexBean() }" name="Go Back"/>
          <form id="form">
          
            <div>
              <label for="coffeebean_name">Coffee Bean</label><br />
              <input type="text" id="coffeebean_name" data-bind="value: name" />

            </div>

            <div>
              <label for="coffeebean_description">Description</label><br />
              <textarea id="coffeebean_description" data-bind="value: description" ></textarea>
            </div>
            <div>
              <label for="coffeebean_place">Location</label><br />
              <input type="text" id="coffeebean_place" data-bind="value: place" />
            </div>
          </form>
          

          <div>
            <button class="btn btn-inverse" data-bind="click: function() { viewModel.updateBean($data) }">Update
            </button>
            
          </div>
        </div>
         
      </script>

      <!-- /// 8 -->
      <script id="newTemplate" type="text/html">

      </script>


      <!-- /// 9 -->
      
      <div  data-bind='template: {name: "errorsTemplate", foreach: errors}'></div>
      <!-- /// 10 -->
      <div class="mesg" data-bind='visible: flash'>
          <p data-bind='text: flash'></p>
      </div>
      <!-- /// 11 -->
      <div data-bind='visible: currentPage() == "index"'>
       
     <input style="float:right; margin-top:20px;" type="text" class="search-query" data-bind="value :filter, valueUpdate: 'afterkeydown'" placeholder="Search..."/>
        <br /><br/>
        <br/>
        <div class="beanHolder beanLabel" >
          <div class=="row ">
              
            <div class="span3 head">

              <span>Coffee Bean</span>
            </div>
            <div class="span2 head">
              <span>Tried By</span>
            </div>
            <div class="span3 head">
              <span>Location</span>
            </div>
            <div class="span2 head" style="float:right;">
              <span>Beans</span>
            </div>
          </div>  
        </div>
        <div style="overflow:auto; height:275px;">
        <table>
          <div class="">

         <tbody data-bind='template: {name: "indexTemplate", foreach: filteredItems}'></tbody>
         </div>
     
          </div>

       </table>
     </div>
      <div class="addBean">
                <form id="form" >
                  <div class="row">
                      <div class="span4">
                          <input type="text" class="span4" data-bind="value: viewModel.tempName"  placeholder="Coffee bean"/>

                      <input type="text"  class="span4" data-bind="value: viewModel.tempPlace"  placeholder="Location"/>
                      <button class="btn btn-inverse" data-bind="click: function() { viewModel.addBean() }"> Add Bean </button>
                      </div>
                      <div class="span5">
                        <textarea type="text" class="span5" rows="4"  data-bind="value: viewModel.tempDescription"  placeholder="Write Description Here..."></textarea>                      
                      </div>
                  </div>
                </div>
                      
                    </form>
                     
      </div>

      <!-- /// 12 -->
      <div data-bind='visible: currentPage() == "show"'>
          <div class="row container">
              <div class="span4">
                <div data-bind='template: {name: "showTemplate",  data: tempItem, templateOptions: { selectedItem: selectedItem}}'></div>
              </div>
              <div class="span7">
                    <div class="commentHolder">
                        <div class="comment">
                          <form id="form" >
                            <div>
                            <input type="text" class="span6" data-bind="value: newcontent"  placeholder="Write Your Comment...." />
                               
                              </form>
                               <button class="btn btn-success" data-bind="visible: false, click: function() { viewModel.addComment() }"> Comment </button>
                            </div>
                        </div>
                    </div>
                    <div class="commentHolder" data-bind='template: {name: "commentsTemplate", foreach: comments}'>
                    </div>
              </div>        
          </div>
      </div>
      
       
      <!-- /// 13 -->
      <div data-bind='visible: currentPage() == "edit"'>
  
              <div data-bind='template: {name: "editTemplate", data: tempItem, templateOptions: { selectedItem: selectedItem}}'></div>    
        
      </div>

      <!-- /// 14 -->
      <div data-bind='visible: currentPage() == "new"'>
        <div data-bind='template: {name: "newTemplate", data: tempItem}'></div>
      </div>
    </div>  
  </body>
</html>